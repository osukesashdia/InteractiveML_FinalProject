{
  "version": 3,
  "sources": ["../../vidstack/dev/providers/vidstack-html.js", "../../vidstack/dev/chunks/vidstack-Bo5OTJ06.js"],
  "sourcesContent": ["import { IS_SAFARI, IS_IOS, isHLSSrc, isMediaStream } from '../chunks/vidstack-CjhKISI0.js';\nimport { signal, EventsController, effect, onDispose, peek, isNil, listenEvent, DOMEvent, createScope, setAttribute, isString } from '../chunks/vidstack-Bu2kfzUd.js';\nimport { RAFLoop } from '../chunks/vidstack-qh1N5_f_.js';\nimport { getNumberOfDecimalPlaces } from '../chunks/vidstack-Dihypf8P.js';\nimport { ListSymbol } from '../chunks/vidstack-Dv_LIPFu.js';\n\nlet audioContext = null, gainNodes = [], elAudioSources = [];\nfunction getOrCreateAudioCtx() {\n  return audioContext ??= new AudioContext();\n}\nfunction createGainNode() {\n  const audioCtx = getOrCreateAudioCtx(), gainNode = audioCtx.createGain();\n  gainNode.connect(audioCtx.destination);\n  gainNodes.push(gainNode);\n  return gainNode;\n}\nfunction createElementSource(el, gainNode) {\n  const audioCtx = getOrCreateAudioCtx(), src = audioCtx.createMediaElementSource(el);\n  if (gainNode) {\n    src.connect(gainNode);\n  }\n  elAudioSources.push(src);\n  return src;\n}\nfunction destroyGainNode(node) {\n  const idx = gainNodes.indexOf(node);\n  if (idx !== -1) {\n    gainNodes.splice(idx, 1);\n    node.disconnect();\n    freeAudioCtxWhenAllResourcesFreed();\n  }\n}\nfunction destroyElementSource(src) {\n  const idx = elAudioSources.indexOf(src);\n  if (idx !== -1) {\n    elAudioSources.splice(idx, 1);\n    src.disconnect();\n    freeAudioCtxWhenAllResourcesFreed();\n  }\n}\nfunction freeAudioCtxWhenAllResourcesFreed() {\n  if (audioContext && gainNodes.length === 0 && elAudioSources.length === 0) {\n    audioContext.close().then(() => {\n      audioContext = null;\n    });\n  }\n}\n\nclass AudioGain {\n  #media;\n  #onChange;\n  #gainNode = null;\n  #srcAudioNode = null;\n  get currentGain() {\n    return this.#gainNode?.gain?.value ?? null;\n  }\n  get supported() {\n    return true;\n  }\n  constructor(media, onChange) {\n    this.#media = media;\n    this.#onChange = onChange;\n  }\n  setGain(gain) {\n    const currGain = this.currentGain;\n    if (gain === this.currentGain) {\n      return;\n    }\n    if (gain === 1 && currGain !== 1) {\n      this.removeGain();\n      return;\n    }\n    if (!this.#gainNode) {\n      this.#gainNode = createGainNode();\n      if (this.#srcAudioNode) {\n        this.#srcAudioNode.connect(this.#gainNode);\n      }\n    }\n    if (!this.#srcAudioNode) {\n      this.#srcAudioNode = createElementSource(this.#media, this.#gainNode);\n    }\n    this.#gainNode.gain.value = gain;\n    this.#onChange(gain);\n  }\n  removeGain() {\n    if (!this.#gainNode) return;\n    if (this.#srcAudioNode) {\n      this.#srcAudioNode.connect(getOrCreateAudioCtx().destination);\n    }\n    this.#destroyGainNode();\n    this.#onChange(null);\n  }\n  destroy() {\n    this.#destroySrcNode();\n    this.#destroyGainNode();\n  }\n  #destroySrcNode() {\n    if (!this.#srcAudioNode) return;\n    try {\n      destroyElementSource(this.#srcAudioNode);\n    } catch (e) {\n    } finally {\n      this.#srcAudioNode = null;\n    }\n  }\n  #destroyGainNode() {\n    if (!this.#gainNode) return;\n    try {\n      destroyGainNode(this.#gainNode);\n    } catch (e) {\n    } finally {\n      this.#gainNode = null;\n    }\n  }\n}\n\nconst PAGE_EVENTS = [\"focus\", \"blur\", \"visibilitychange\", \"pageshow\", \"pagehide\"];\nclass PageVisibility {\n  #state = signal(determinePageState());\n  #visibility = signal(document.visibilityState);\n  #safariBeforeUnloadTimeout;\n  connect() {\n    const events = new EventsController(window), handlePageEvent = this.#handlePageEvent.bind(this);\n    for (const eventType of PAGE_EVENTS) {\n      events.add(eventType, handlePageEvent);\n    }\n    if (IS_SAFARI) {\n      events.add(\"beforeunload\", (event) => {\n        this.#safariBeforeUnloadTimeout = setTimeout(() => {\n          if (!(event.defaultPrevented || event.returnValue.length > 0)) {\n            this.#state.set(\"hidden\");\n            this.#visibility.set(\"hidden\");\n          }\n        }, 0);\n      });\n    }\n  }\n  /**\n   * The current page state. Important to note we only account for a subset of page states, as\n   * the rest aren't valuable to the player at the moment.\n   *\n   * - **active:** A page is in the active state if it is visible and has input focus.\n   * - **passive:** A page is in the passive state if it is visible and does not have input focus.\n   * - **hidden:** A page is in the hidden state if it is not visible.\n   *\n   * @see https://developers.google.com/web/updates/2018/07/page-lifecycle-api#states\n   */\n  get pageState() {\n    return this.#state();\n  }\n  /**\n   * The current document visibility state.\n   *\n   * - **visible:** The page content may be at least partially visible. In practice, this means that\n   * the page is the foreground tab of a non-minimized window.\n   * - **hidden:** The page content is not visible to the user. In practice this means that the\n   * document is either a background tab or part of a minimized window, or the OS screen lock is\n   * active.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/visibilityState\n   */\n  get visibility() {\n    return this.#visibility();\n  }\n  #handlePageEvent(event) {\n    if (IS_SAFARI) window.clearTimeout(this.#safariBeforeUnloadTimeout);\n    if (event.type !== \"blur\" || this.#state() === \"active\") {\n      this.#state.set(determinePageState(event));\n      this.#visibility.set(document.visibilityState == \"hidden\" ? \"hidden\" : \"visible\");\n    }\n  }\n}\nfunction determinePageState(event) {\n  if (event?.type === \"blur\" || document.visibilityState === \"hidden\") return \"hidden\";\n  if (document.hasFocus()) return \"active\";\n  return \"passive\";\n}\n\nclass HTMLMediaEvents {\n  #provider;\n  #ctx;\n  #waiting = false;\n  #attachedLoadStart = false;\n  #attachedCanPlay = false;\n  #timeRAF = new RAFLoop(this.#onAnimationFrame.bind(this));\n  #pageVisibility = new PageVisibility();\n  #events;\n  get #media() {\n    return this.#provider.media;\n  }\n  constructor(provider, ctx) {\n    this.#provider = provider;\n    this.#ctx = ctx;\n    this.#events = new EventsController(provider.media);\n    this.#attachInitialListeners();\n    this.#pageVisibility.connect();\n    effect(this.#attachTimeUpdate.bind(this));\n    onDispose(this.#onDispose.bind(this));\n  }\n  #onDispose() {\n    this.#attachedLoadStart = false;\n    this.#attachedCanPlay = false;\n    this.#timeRAF.stop();\n    this.#events.abort();\n    this.#devHandlers?.clear();\n  }\n  /**\n   * The `timeupdate` event fires surprisingly infrequently during playback, meaning your progress\n   * bar (or whatever else is synced to the currentTime) moves in a choppy fashion. This helps\n   * resolve that by retrieving time updates in a request animation frame loop.\n   */\n  #lastSeenTime = 0;\n  #seekedTo = -1;\n  #onAnimationFrame() {\n    const newTime = this.#media.currentTime;\n    const didStutter = IS_SAFARI && newTime - this.#seekedTo < 0.35;\n    if (!didStutter && this.#lastSeenTime !== newTime) {\n      this.#updateCurrentTime(newTime);\n      this.#lastSeenTime = newTime;\n    }\n  }\n  #attachInitialListeners() {\n    {\n      this.#ctx.logger?.info(\"attaching initial listeners\");\n    }\n    this.#attachEventListener(\"loadstart\", this.#onLoadStart);\n    this.#attachEventListener(\"abort\", this.#onAbort);\n    this.#attachEventListener(\"emptied\", this.#onEmptied);\n    this.#attachEventListener(\"error\", this.#onError);\n    this.#attachEventListener(\"volumechange\", this.#onVolumeChange);\n    this.#ctx.logger?.debug(\"attached initial media event listeners\");\n  }\n  #attachLoadStartListeners() {\n    if (this.#attachedLoadStart) return;\n    {\n      this.#ctx.logger?.info(\"attaching load start listeners\");\n    }\n    this.#attachEventListener(\"loadeddata\", this.#onLoadedData);\n    this.#attachEventListener(\"loadedmetadata\", this.#onLoadedMetadata);\n    this.#attachEventListener(\"canplay\", this.#onCanPlay);\n    this.#attachEventListener(\"canplaythrough\", this.#onCanPlayThrough);\n    this.#attachEventListener(\"durationchange\", this.#onDurationChange);\n    this.#attachEventListener(\"play\", this.#onPlay);\n    this.#attachEventListener(\"progress\", this.#onProgress);\n    this.#attachEventListener(\"stalled\", this.#onStalled);\n    this.#attachEventListener(\"suspend\", this.#onSuspend);\n    this.#attachEventListener(\"ratechange\", this.#onRateChange);\n    this.#attachedLoadStart = true;\n  }\n  #attachCanPlayListeners() {\n    if (this.#attachedCanPlay) return;\n    {\n      this.#ctx.logger?.info(\"attaching can play listeners\");\n    }\n    this.#attachEventListener(\"pause\", this.#onPause);\n    this.#attachEventListener(\"playing\", this.#onPlaying);\n    this.#attachEventListener(\"seeked\", this.#onSeeked);\n    this.#attachEventListener(\"seeking\", this.#onSeeking);\n    this.#attachEventListener(\"ended\", this.#onEnded);\n    this.#attachEventListener(\"waiting\", this.#onWaiting);\n    this.#attachedCanPlay = true;\n  }\n  #devHandlers = /* @__PURE__ */ new Map() ;\n  #handleDevEvent = this.#onDevEvent.bind(this) ;\n  #attachEventListener(eventType, handler) {\n    this.#devHandlers.set(eventType, handler);\n    this.#events.add(eventType, this.#handleDevEvent );\n  }\n  #onDevEvent(event2) {\n    this.#ctx.logger?.debugGroup(`\\u{1F4FA} provider fired \\`${event2.type}\\``).labelledLog(\"Provider\", this.#provider).labelledLog(\"Event\", event2).labelledLog(\"Media Store\", { ...this.#ctx.$state }).dispatch();\n    this.#devHandlers.get(event2.type)?.call(this, event2);\n  }\n  #updateCurrentTime(time, trigger) {\n    const newTime = Math.min(time, this.#ctx.$state.seekableEnd());\n    this.#ctx.notify(\"time-change\", newTime, trigger);\n  }\n  #onLoadStart(event2) {\n    if (this.#media.networkState === 3) {\n      this.#onAbort(event2);\n      return;\n    }\n    this.#attachLoadStartListeners();\n    this.#ctx.notify(\"load-start\", void 0, event2);\n  }\n  #onAbort(event2) {\n    this.#ctx.notify(\"abort\", void 0, event2);\n  }\n  #onEmptied() {\n    this.#ctx.notify(\"emptied\", void 0, event);\n  }\n  #onLoadedData(event2) {\n    this.#ctx.notify(\"loaded-data\", void 0, event2);\n  }\n  #onLoadedMetadata(event2) {\n    this.#lastSeenTime = 0;\n    this.#seekedTo = -1;\n    this.#attachCanPlayListeners();\n    this.#ctx.notify(\"loaded-metadata\", void 0, event2);\n    if (IS_IOS || IS_SAFARI && isHLSSrc(this.#ctx.$state.source())) {\n      this.#ctx.delegate.ready(this.#getCanPlayDetail(), event2);\n    }\n  }\n  #getCanPlayDetail() {\n    return {\n      provider: peek(this.#ctx.$provider),\n      duration: this.#media.duration,\n      buffered: this.#media.buffered,\n      seekable: this.#media.seekable\n    };\n  }\n  #onPlay(event2) {\n    if (!this.#ctx.$state.canPlay) return;\n    this.#ctx.notify(\"play\", void 0, event2);\n  }\n  #onPause(event2) {\n    if (this.#media.readyState === 1 && !this.#waiting) return;\n    this.#waiting = false;\n    this.#timeRAF.stop();\n    this.#ctx.notify(\"pause\", void 0, event2);\n  }\n  #onCanPlay(event2) {\n    this.#ctx.delegate.ready(this.#getCanPlayDetail(), event2);\n  }\n  #onCanPlayThrough(event2) {\n    if (this.#ctx.$state.started()) return;\n    this.#ctx.notify(\"can-play-through\", this.#getCanPlayDetail(), event2);\n  }\n  #onPlaying(event2) {\n    if (this.#media.paused) return;\n    this.#waiting = false;\n    this.#ctx.notify(\"playing\", void 0, event2);\n    this.#timeRAF.start();\n  }\n  #onStalled(event2) {\n    this.#ctx.notify(\"stalled\", void 0, event2);\n    if (this.#media.readyState < 3) {\n      this.#waiting = true;\n      this.#ctx.notify(\"waiting\", void 0, event2);\n    }\n  }\n  #onWaiting(event2) {\n    if (this.#media.readyState < 3) {\n      this.#waiting = true;\n      this.#ctx.notify(\"waiting\", void 0, event2);\n    }\n  }\n  #onEnded(event2) {\n    this.#timeRAF.stop();\n    this.#updateCurrentTime(this.#media.duration, event2);\n    this.#ctx.notify(\"end\", void 0, event2);\n    if (this.#ctx.$state.loop()) {\n      const hasCustomControls = isNil(this.#media.controls);\n      if (hasCustomControls) this.#media.controls = false;\n    }\n  }\n  #attachTimeUpdate() {\n    const isPaused = this.#ctx.$state.paused(), isPageHidden = this.#pageVisibility.visibility === \"hidden\", shouldListenToTimeUpdates = isPaused || isPageHidden;\n    if (shouldListenToTimeUpdates) {\n      listenEvent(this.#media, \"timeupdate\", this.#onTimeUpdate.bind(this));\n    }\n  }\n  #onTimeUpdate(event2) {\n    this.#updateCurrentTime(this.#media.currentTime, event2);\n  }\n  #onDurationChange(event2) {\n    if (this.#ctx.$state.ended()) {\n      this.#updateCurrentTime(this.#media.duration, event2);\n    }\n    this.#ctx.notify(\"duration-change\", this.#media.duration, event2);\n  }\n  #onVolumeChange(event2) {\n    const detail = {\n      volume: this.#media.volume,\n      muted: this.#media.muted\n    };\n    this.#ctx.notify(\"volume-change\", detail, event2);\n  }\n  #onSeeked(event2) {\n    this.#seekedTo = this.#media.currentTime;\n    this.#updateCurrentTime(this.#media.currentTime, event2);\n    this.#ctx.notify(\"seeked\", this.#media.currentTime, event2);\n    if (Math.trunc(this.#media.currentTime) === Math.trunc(this.#media.duration) && getNumberOfDecimalPlaces(this.#media.duration) > getNumberOfDecimalPlaces(this.#media.currentTime)) {\n      this.#updateCurrentTime(this.#media.duration, event2);\n      if (!this.#media.ended) {\n        this.#ctx.player.dispatch(\n          new DOMEvent(\"media-play-request\", {\n            trigger: event2\n          })\n        );\n      }\n    }\n  }\n  #onSeeking(event2) {\n    this.#ctx.notify(\"seeking\", this.#media.currentTime, event2);\n  }\n  #onProgress(event2) {\n    const detail = {\n      buffered: this.#media.buffered,\n      seekable: this.#media.seekable\n    };\n    this.#ctx.notify(\"progress\", detail, event2);\n  }\n  #onSuspend(event2) {\n    this.#ctx.notify(\"suspend\", void 0, event2);\n  }\n  #onRateChange(event2) {\n    this.#ctx.notify(\"rate-change\", this.#media.playbackRate, event2);\n  }\n  #onError(event2) {\n    const error = this.#media.error;\n    if (!error) return;\n    const detail = {\n      message: error.message,\n      code: error.code,\n      mediaError: error\n    };\n    this.#ctx.notify(\"error\", detail, event2);\n  }\n}\n\nclass NativeAudioTracks {\n  #provider;\n  #ctx;\n  get #nativeTracks() {\n    return this.#provider.media.audioTracks;\n  }\n  constructor(provider, ctx) {\n    this.#provider = provider;\n    this.#ctx = ctx;\n    this.#nativeTracks.onaddtrack = this.#onAddNativeTrack.bind(this);\n    this.#nativeTracks.onremovetrack = this.#onRemoveNativeTrack.bind(this);\n    this.#nativeTracks.onchange = this.#onChangeNativeTrack.bind(this);\n    listenEvent(this.#ctx.audioTracks, \"change\", this.#onChangeTrack.bind(this));\n  }\n  #onAddNativeTrack(event) {\n    const nativeTrack = event.track;\n    if (nativeTrack.label === \"\") return;\n    const id = nativeTrack.id.toString() || `native-audio-${this.#ctx.audioTracks.length}`, audioTrack = {\n      id,\n      label: nativeTrack.label,\n      language: nativeTrack.language,\n      kind: nativeTrack.kind,\n      selected: false\n    };\n    this.#ctx.audioTracks[ListSymbol.add](audioTrack, event);\n    if (nativeTrack.enabled) audioTrack.selected = true;\n  }\n  #onRemoveNativeTrack(event) {\n    const track = this.#ctx.audioTracks.getById(event.track.id);\n    if (track) this.#ctx.audioTracks[ListSymbol.remove](track, event);\n  }\n  #onChangeNativeTrack(event) {\n    let enabledTrack = this.#getEnabledNativeTrack();\n    if (!enabledTrack) return;\n    const track = this.#ctx.audioTracks.getById(enabledTrack.id);\n    if (track) this.#ctx.audioTracks[ListSymbol.select](track, true, event);\n  }\n  #getEnabledNativeTrack() {\n    return Array.from(this.#nativeTracks).find((track) => track.enabled);\n  }\n  #onChangeTrack(event) {\n    const { current } = event.detail;\n    if (!current) return;\n    const track = this.#nativeTracks.getTrackById(current.id);\n    if (track) {\n      const prev = this.#getEnabledNativeTrack();\n      if (prev) prev.enabled = false;\n      track.enabled = true;\n    }\n  }\n}\n\nclass HTMLMediaProvider {\n  constructor(media, ctx) {\n    this.media = media;\n    this.ctx = ctx;\n    this.audioGain = new AudioGain(media, (gain) => {\n      this.ctx.notify(\"audio-gain-change\", gain);\n    });\n  }\n  scope = createScope();\n  currentSrc = null;\n  audioGain;\n  setup() {\n    new HTMLMediaEvents(this, this.ctx);\n    if (\"audioTracks\" in this.media) new NativeAudioTracks(this, this.ctx);\n    onDispose(() => {\n      this.audioGain.destroy();\n      this.media.srcObject = null;\n      this.media.removeAttribute(\"src\");\n      for (const source of this.media.querySelectorAll(\"source\")) source.remove();\n      this.media.load();\n    });\n  }\n  get type() {\n    return \"\";\n  }\n  setPlaybackRate(rate) {\n    this.media.playbackRate = rate;\n  }\n  async play() {\n    return this.media.play();\n  }\n  async pause() {\n    return this.media.pause();\n  }\n  setMuted(muted) {\n    this.media.muted = muted;\n  }\n  setVolume(volume) {\n    this.media.volume = volume;\n  }\n  setCurrentTime(time) {\n    this.media.currentTime = time;\n  }\n  setPlaysInline(inline) {\n    setAttribute(this.media, \"playsinline\", inline);\n  }\n  async loadSource({ src, type }, preload) {\n    this.media.preload = preload || \"\";\n    if (isMediaStream(src)) {\n      this.removeSource();\n      this.media.srcObject = src;\n    } else {\n      this.media.srcObject = null;\n      if (isString(src)) {\n        if (type !== \"?\") {\n          this.appendSource({ src, type });\n        } else {\n          this.removeSource();\n          this.media.src = this.#appendMediaFragment(src);\n        }\n      } else {\n        this.removeSource();\n        this.media.src = window.URL.createObjectURL(src);\n      }\n    }\n    this.media.load();\n    this.currentSrc = { src, type };\n  }\n  /**\n   * Append source so it works when requesting AirPlay since hls.js will remove it.\n   */\n  appendSource(src, defaultType) {\n    const prevSource = this.media.querySelector(\"source[data-vds]\"), source = prevSource ?? document.createElement(\"source\");\n    setAttribute(source, \"src\", this.#appendMediaFragment(src.src));\n    setAttribute(source, \"type\", src.type !== \"?\" ? src.type : defaultType);\n    setAttribute(source, \"data-vds\", \"\");\n    if (!prevSource) this.media.append(source);\n  }\n  removeSource() {\n    this.media.querySelector(\"source[data-vds]\")?.remove();\n  }\n  #appendMediaFragment(src) {\n    const { clipStartTime, clipEndTime } = this.ctx.$state, startTime = clipStartTime(), endTime = clipEndTime();\n    if (startTime > 0 && endTime > 0) {\n      return `${src}#t=${startTime},${endTime}`;\n    } else if (startTime > 0) {\n      return `${src}#t=${startTime}`;\n    } else if (endTime > 0) {\n      return `${src}#t=0,${endTime}`;\n    }\n    return src;\n  }\n}\n\nexport { HTMLMediaProvider };\n", "import { signal, effect, listenEvent, EventsController } from './vidstack-Bu2kfzUd.js';\nimport './vidstack-CjhKISI0.js';\n\nclass HTMLRemotePlaybackAdapter {\n  #media;\n  #ctx;\n  #state;\n  #supported = signal(false);\n  get supported() {\n    return this.#supported();\n  }\n  constructor(media, ctx) {\n    this.#media = media;\n    this.#ctx = ctx;\n    this.#setup();\n  }\n  #setup() {\n    if (!this.#media?.remote || !this.canPrompt) return;\n    this.#media.remote.watchAvailability((available) => {\n      this.#supported.set(available);\n    }).catch(() => {\n      this.#supported.set(false);\n    });\n    effect(this.#watchSupported.bind(this));\n  }\n  #watchSupported() {\n    if (!this.#supported()) return;\n    const events = [\"connecting\", \"connect\", \"disconnect\"], onStateChange = this.#onStateChange.bind(this);\n    onStateChange();\n    listenEvent(this.#media, \"playing\", onStateChange);\n    const remoteEvents = new EventsController(this.#media.remote);\n    for (const type of events) {\n      remoteEvents.add(type, onStateChange);\n    }\n  }\n  async prompt() {\n    if (!this.supported) throw Error(\"Not supported on this platform.\");\n    if (this.type === \"airplay\" && this.#media.webkitShowPlaybackTargetPicker) {\n      return this.#media.webkitShowPlaybackTargetPicker();\n    }\n    return this.#media.remote.prompt();\n  }\n  #onStateChange(event) {\n    const state = this.#media.remote.state;\n    if (state === this.#state) return;\n    const detail = { type: this.type, state };\n    this.#ctx.notify(\"remote-playback-change\", detail, event);\n    this.#state = state;\n  }\n}\nclass HTMLAirPlayAdapter extends HTMLRemotePlaybackAdapter {\n  type = \"airplay\";\n  get canPrompt() {\n    return \"WebKitPlaybackTargetAvailabilityEvent\" in window;\n  }\n}\n\nexport { HTMLAirPlayAdapter };\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,IAAI,eAAe;AAAnB,IAAyB,YAAY,CAAC;AAAtC,IAAyC,iBAAiB,CAAC;AAC3D,SAAS,sBAAsB;AAC7B,SAAO,gCAAiB,IAAI,aAAa;AAC3C;AACA,SAAS,iBAAiB;AACxB,QAAM,WAAW,oBAAoB,GAAG,WAAW,SAAS,WAAW;AACvE,WAAS,QAAQ,SAAS,WAAW;AACrC,YAAU,KAAK,QAAQ;AACvB,SAAO;AACT;AACA,SAAS,oBAAoB,IAAI,UAAU;AACzC,QAAM,WAAW,oBAAoB,GAAG,MAAM,SAAS,yBAAyB,EAAE;AAClF,MAAI,UAAU;AACZ,QAAI,QAAQ,QAAQ;AAAA,EACtB;AACA,iBAAe,KAAK,GAAG;AACvB,SAAO;AACT;AACA,SAAS,gBAAgB,MAAM;AAC7B,QAAM,MAAM,UAAU,QAAQ,IAAI;AAClC,MAAI,QAAQ,IAAI;AACd,cAAU,OAAO,KAAK,CAAC;AACvB,SAAK,WAAW;AAChB,sCAAkC;AAAA,EACpC;AACF;AACA,SAAS,qBAAqB,KAAK;AACjC,QAAM,MAAM,eAAe,QAAQ,GAAG;AACtC,MAAI,QAAQ,IAAI;AACd,mBAAe,OAAO,KAAK,CAAC;AAC5B,QAAI,WAAW;AACf,sCAAkC;AAAA,EACpC;AACF;AACA,SAAS,oCAAoC;AAC3C,MAAI,gBAAgB,UAAU,WAAW,KAAK,eAAe,WAAW,GAAG;AACzE,iBAAa,MAAM,EAAE,KAAK,MAAM;AAC9B,qBAAe;AAAA,IACjB,CAAC;AAAA,EACH;AACF;AA9CA;AAgDA,IAAM,YAAN,MAAgB;AAAA,EAWd,YAAY,OAAO,UAAU;AAX/B;AACE;AACA;AACA,kCAAY;AACZ,sCAAgB;AAQd,uBAAK,QAAS;AACd,uBAAK,WAAY;AAAA,EACnB;AAAA,EATA,IAAI,cAAc;AArDpB;AAsDI,aAAO,8BAAK,eAAL,mBAAgB,SAAhB,mBAAsB,UAAS;AAAA,EACxC;AAAA,EACA,IAAI,YAAY;AACd,WAAO;AAAA,EACT;AAAA,EAKA,QAAQ,MAAM;AACZ,UAAM,WAAW,KAAK;AACtB,QAAI,SAAS,KAAK,aAAa;AAC7B;AAAA,IACF;AACA,QAAI,SAAS,KAAK,aAAa,GAAG;AAChC,WAAK,WAAW;AAChB;AAAA,IACF;AACA,QAAI,CAAC,mBAAK,YAAW;AACnB,yBAAK,WAAY,eAAe;AAChC,UAAI,mBAAK,gBAAe;AACtB,2BAAK,eAAc,QAAQ,mBAAK,UAAS;AAAA,MAC3C;AAAA,IACF;AACA,QAAI,CAAC,mBAAK,gBAAe;AACvB,yBAAK,eAAgB,oBAAoB,mBAAK,SAAQ,mBAAK,UAAS;AAAA,IACtE;AACA,uBAAK,WAAU,KAAK,QAAQ;AAC5B,uBAAK,WAAL,WAAe;AAAA,EACjB;AAAA,EACA,aAAa;AACX,QAAI,CAAC,mBAAK,WAAW;AACrB,QAAI,mBAAK,gBAAe;AACtB,yBAAK,eAAc,QAAQ,oBAAoB,EAAE,WAAW;AAAA,IAC9D;AACA,0BAAK,0CAAL;AACA,uBAAK,WAAL,WAAe;AAAA,EACjB;AAAA,EACA,UAAU;AACR,0BAAK,yCAAL;AACA,0BAAK,0CAAL;AAAA,EACF;AAmBF;AAjEE;AACA;AACA;AACA;AAJF;AAgDE,oBAAe,WAAG;AAChB,MAAI,CAAC,mBAAK,eAAe;AACzB,MAAI;AACF,yBAAqB,mBAAK,cAAa;AAAA,EACzC,SAAS,GAAG;AAAA,EACZ,UAAE;AACA,uBAAK,eAAgB;AAAA,EACvB;AACF;AACA,qBAAgB,WAAG;AACjB,MAAI,CAAC,mBAAK,WAAW;AACrB,MAAI;AACF,oBAAgB,mBAAK,UAAS;AAAA,EAChC,SAAS,GAAG;AAAA,EACZ,UAAE;AACA,uBAAK,WAAY;AAAA,EACnB;AACF;AAGF,IAAM,cAAc,CAAC,SAAS,QAAQ,oBAAoB,YAAY,UAAU;AApHhF;AAqHA,IAAM,iBAAN,MAAqB;AAAA,EAArB;AAAA;AACE,+BAAS,OAAO,mBAAmB,CAAC;AACpC,oCAAc,OAAO,SAAS,eAAe;AAC7C;AAAA;AAAA,EACA,UAAU;AACR,UAAM,SAAS,IAAI,iBAAiB,MAAM,GAAG,kBAAkB,sBAAK,+CAAiB,KAAK,IAAI;AAC9F,eAAW,aAAa,aAAa;AACnC,aAAO,IAAI,WAAW,eAAe;AAAA,IACvC;AACA,QAAI,WAAW;AACb,aAAO,IAAI,gBAAgB,CAACA,WAAU;AACpC,2BAAK,4BAA6B,WAAW,MAAM;AACjD,cAAI,EAAEA,OAAM,oBAAoBA,OAAM,YAAY,SAAS,IAAI;AAC7D,+BAAK,QAAO,IAAI,QAAQ;AACxB,+BAAK,aAAY,IAAI,QAAQ;AAAA,UAC/B;AAAA,QACF,GAAG,CAAC;AAAA,MACN,CAAC;AAAA,IACH;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,IAAI,YAAY;AACd,WAAO,mBAAK,QAAL;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYA,IAAI,aAAa;AACf,WAAO,mBAAK,aAAL;AAAA,EACT;AAQF;AArDE;AACA;AACA;AAHF;AA+CE,qBAAgB,SAACA,QAAO;AACtB,MAAI,UAAW,QAAO,aAAa,mBAAK,2BAA0B;AAClE,MAAIA,OAAM,SAAS,UAAU,mBAAK,QAAL,eAAkB,UAAU;AACvD,uBAAK,QAAO,IAAI,mBAAmBA,MAAK,CAAC;AACzC,uBAAK,aAAY,IAAI,SAAS,mBAAmB,WAAW,WAAW,SAAS;AAAA,EAClF;AACF;AAEF,SAAS,mBAAmBA,QAAO;AACjC,OAAIA,UAAA,gBAAAA,OAAO,UAAS,UAAU,SAAS,oBAAoB,SAAU,QAAO;AAC5E,MAAI,SAAS,SAAS,EAAG,QAAO;AAChC,SAAO;AACT;AAhLA;AAkLA,IAAM,kBAAN,MAAsB;AAAA,EAYpB,YAAY,UAAU,KAAK;AAZ7B;AACE;AACA;AACA,iCAAW;AACX,2CAAqB;AACrB,yCAAmB;AACnB,iCAAW,IAAI,QAAQ,sBAAK,iDAAkB,KAAK,IAAI,CAAC;AACxD,wCAAkB,IAAI,eAAe;AACrC;AAyBA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAAgB;AAChB,kCAAY;AAkDZ,qCAA+B,oBAAI,IAAI;AACvC,wCAAkB,sBAAK,2CAAY,KAAK,IAAI;AAxE1C,uBAAK,WAAY;AACjB,uBAAK,MAAO;AACZ,uBAAK,SAAU,IAAI,iBAAiB,SAAS,KAAK;AAClD,0BAAK,uDAAL;AACA,uBAAK,iBAAgB,QAAQ;AAC7B,WAAO,sBAAK,iDAAkB,KAAK,IAAI,CAAC;AACxC,cAAU,sBAAK,0CAAW,KAAK,IAAI,CAAC;AAAA,EACtC;AA4NF;AA/OE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARF;AASM,YAAM,WAAG;AACX,SAAO,mBAAK,WAAU;AACxB;AAUA,eAAU,WAAG;AAvMf;AAwMI,qBAAK,oBAAqB;AAC1B,qBAAK,kBAAmB;AACxB,qBAAK,UAAS,KAAK;AACnB,qBAAK,SAAQ,MAAM;AACnB,2BAAK,kBAAL,mBAAmB;AACrB;AAMA;AACA;AACA,sBAAiB,WAAG;AAClB,QAAM,UAAU,mBAAK,uCAAO;AAC5B,QAAM,aAAa,aAAa,UAAU,mBAAK,aAAY;AAC3D,MAAI,CAAC,cAAc,mBAAK,mBAAkB,SAAS;AACjD,0BAAK,kDAAL,WAAwB;AACxB,uBAAK,eAAgB;AAAA,EACvB;AACF;AACA,4BAAuB,WAAG;AA7N5B;AA8NI;AACE,6BAAK,MAAK,WAAV,mBAAkB,KAAK;AAAA,EACzB;AACA,wBAAK,oDAAL,WAA0B,aAAa,sBAAK;AAC5C,wBAAK,oDAAL,WAA0B,SAAS,sBAAK;AACxC,wBAAK,oDAAL,WAA0B,WAAW,sBAAK;AAC1C,wBAAK,oDAAL,WAA0B,SAAS,sBAAK;AACxC,wBAAK,oDAAL,WAA0B,gBAAgB,sBAAK;AAC/C,2BAAK,MAAK,WAAV,mBAAkB,MAAM;AAC1B;AACA,8BAAyB,WAAG;AAxO9B;AAyOI,MAAI,mBAAK,oBAAoB;AAC7B;AACE,6BAAK,MAAK,WAAV,mBAAkB,KAAK;AAAA,EACzB;AACA,wBAAK,oDAAL,WAA0B,cAAc,sBAAK;AAC7C,wBAAK,oDAAL,WAA0B,kBAAkB,sBAAK;AACjD,wBAAK,oDAAL,WAA0B,WAAW,sBAAK;AAC1C,wBAAK,oDAAL,WAA0B,kBAAkB,sBAAK;AACjD,wBAAK,oDAAL,WAA0B,kBAAkB,sBAAK;AACjD,wBAAK,oDAAL,WAA0B,QAAQ,sBAAK;AACvC,wBAAK,oDAAL,WAA0B,YAAY,sBAAK;AAC3C,wBAAK,oDAAL,WAA0B,WAAW,sBAAK;AAC1C,wBAAK,oDAAL,WAA0B,WAAW,sBAAK;AAC1C,wBAAK,oDAAL,WAA0B,cAAc,sBAAK;AAC7C,qBAAK,oBAAqB;AAC5B;AACA,4BAAuB,WAAG;AAzP5B;AA0PI,MAAI,mBAAK,kBAAkB;AAC3B;AACE,6BAAK,MAAK,WAAV,mBAAkB,KAAK;AAAA,EACzB;AACA,wBAAK,oDAAL,WAA0B,SAAS,sBAAK;AACxC,wBAAK,oDAAL,WAA0B,WAAW,sBAAK;AAC1C,wBAAK,oDAAL,WAA0B,UAAU,sBAAK;AACzC,wBAAK,oDAAL,WAA0B,WAAW,sBAAK;AAC1C,wBAAK,oDAAL,WAA0B,SAAS,sBAAK;AACxC,wBAAK,oDAAL,WAA0B,WAAW,sBAAK;AAC1C,qBAAK,kBAAmB;AAC1B;AACA;AACA;AACA,yBAAoB,SAAC,WAAW,SAAS;AACvC,qBAAK,cAAa,IAAI,WAAW,OAAO;AACxC,qBAAK,SAAQ,IAAI,WAAW,mBAAK,gBAAgB;AACnD;AACA,gBAAW,SAAC,QAAQ;AA5QtB;AA6QI,2BAAK,MAAK,WAAV,mBAAkB,WAAW,uBAA8B,OAAO,IAAI,MAAM,YAAY,YAAY,mBAAK,YAAW,YAAY,SAAS,QAAQ,YAAY,eAAe,EAAE,GAAG,mBAAK,MAAK,OAAO,GAAG;AACrM,2BAAK,cAAa,IAAI,OAAO,IAAI,MAAjC,mBAAoC,KAAK,MAAM;AACjD;AACA,uBAAkB,SAAC,MAAM,SAAS;AAChC,QAAM,UAAU,KAAK,IAAI,MAAM,mBAAK,MAAK,OAAO,YAAY,CAAC;AAC7D,qBAAK,MAAK,OAAO,eAAe,SAAS,OAAO;AAClD;AACA,iBAAY,SAAC,QAAQ;AACnB,MAAI,mBAAK,uCAAO,iBAAiB,GAAG;AAClC,0BAAK,wCAAL,WAAc;AACd;AAAA,EACF;AACA,wBAAK,yDAAL;AACA,qBAAK,MAAK,OAAO,cAAc,QAAQ,MAAM;AAC/C;AACA,aAAQ,SAAC,QAAQ;AACf,qBAAK,MAAK,OAAO,SAAS,QAAQ,MAAM;AAC1C;AACA,eAAU,WAAG;AACX,qBAAK,MAAK,OAAO,WAAW,QAAQ,KAAK;AAC3C;AACA,kBAAa,SAAC,QAAQ;AACpB,qBAAK,MAAK,OAAO,eAAe,QAAQ,MAAM;AAChD;AACA,sBAAiB,SAAC,QAAQ;AACxB,qBAAK,eAAgB;AACrB,qBAAK,WAAY;AACjB,wBAAK,uDAAL;AACA,qBAAK,MAAK,OAAO,mBAAmB,QAAQ,MAAM;AAClD,MAAI,UAAU,aAAa,SAAS,mBAAK,MAAK,OAAO,OAAO,CAAC,GAAG;AAC9D,uBAAK,MAAK,SAAS,MAAM,sBAAK,iDAAL,YAA0B,MAAM;AAAA,EAC3D;AACF;AACA,sBAAiB,WAAG;AAClB,SAAO;AAAA,IACL,UAAU,KAAK,mBAAK,MAAK,SAAS;AAAA,IAClC,UAAU,mBAAK,uCAAO;AAAA,IACtB,UAAU,mBAAK,uCAAO;AAAA,IACtB,UAAU,mBAAK,uCAAO;AAAA,EACxB;AACF;AACA,YAAO,SAAC,QAAQ;AACd,MAAI,CAAC,mBAAK,MAAK,OAAO,QAAS;AAC/B,qBAAK,MAAK,OAAO,QAAQ,QAAQ,MAAM;AACzC;AACA,aAAQ,SAAC,QAAQ;AACf,MAAI,mBAAK,uCAAO,eAAe,KAAK,CAAC,mBAAK,UAAU;AACpD,qBAAK,UAAW;AAChB,qBAAK,UAAS,KAAK;AACnB,qBAAK,MAAK,OAAO,SAAS,QAAQ,MAAM;AAC1C;AACA,eAAU,SAAC,QAAQ;AACjB,qBAAK,MAAK,SAAS,MAAM,sBAAK,iDAAL,YAA0B,MAAM;AAC3D;AACA,sBAAiB,SAAC,QAAQ;AACxB,MAAI,mBAAK,MAAK,OAAO,QAAQ,EAAG;AAChC,qBAAK,MAAK,OAAO,oBAAoB,sBAAK,iDAAL,YAA0B,MAAM;AACvE;AACA,eAAU,SAAC,QAAQ;AACjB,MAAI,mBAAK,uCAAO,OAAQ;AACxB,qBAAK,UAAW;AAChB,qBAAK,MAAK,OAAO,WAAW,QAAQ,MAAM;AAC1C,qBAAK,UAAS,MAAM;AACtB;AACA,eAAU,SAAC,QAAQ;AACjB,qBAAK,MAAK,OAAO,WAAW,QAAQ,MAAM;AAC1C,MAAI,mBAAK,uCAAO,aAAa,GAAG;AAC9B,uBAAK,UAAW;AAChB,uBAAK,MAAK,OAAO,WAAW,QAAQ,MAAM;AAAA,EAC5C;AACF;AACA,eAAU,SAAC,QAAQ;AACjB,MAAI,mBAAK,uCAAO,aAAa,GAAG;AAC9B,uBAAK,UAAW;AAChB,uBAAK,MAAK,OAAO,WAAW,QAAQ,MAAM;AAAA,EAC5C;AACF;AACA,aAAQ,SAAC,QAAQ;AACf,qBAAK,UAAS,KAAK;AACnB,wBAAK,kDAAL,WAAwB,mBAAK,uCAAO,UAAU;AAC9C,qBAAK,MAAK,OAAO,OAAO,QAAQ,MAAM;AACtC,MAAI,mBAAK,MAAK,OAAO,KAAK,GAAG;AAC3B,UAAM,oBAAoB,MAAM,mBAAK,uCAAO,QAAQ;AACpD,QAAI,kBAAmB,oBAAK,uCAAO,WAAW;AAAA,EAChD;AACF;AACA,sBAAiB,WAAG;AAClB,QAAM,WAAW,mBAAK,MAAK,OAAO,OAAO,GAAG,eAAe,mBAAK,iBAAgB,eAAe,UAAU,4BAA4B,YAAY;AACjJ,MAAI,2BAA2B;AAC7B,gBAAY,mBAAK,wCAAQ,cAAc,sBAAK,6CAAc,KAAK,IAAI,CAAC;AAAA,EACtE;AACF;AACA,kBAAa,SAAC,QAAQ;AACpB,wBAAK,kDAAL,WAAwB,mBAAK,uCAAO,aAAa;AACnD;AACA,sBAAiB,SAAC,QAAQ;AACxB,MAAI,mBAAK,MAAK,OAAO,MAAM,GAAG;AAC5B,0BAAK,kDAAL,WAAwB,mBAAK,uCAAO,UAAU;AAAA,EAChD;AACA,qBAAK,MAAK,OAAO,mBAAmB,mBAAK,uCAAO,UAAU,MAAM;AAClE;AACA,oBAAe,SAAC,QAAQ;AACtB,QAAM,SAAS;AAAA,IACb,QAAQ,mBAAK,uCAAO;AAAA,IACpB,OAAO,mBAAK,uCAAO;AAAA,EACrB;AACA,qBAAK,MAAK,OAAO,iBAAiB,QAAQ,MAAM;AAClD;AACA,cAAS,SAAC,QAAQ;AAChB,qBAAK,WAAY,mBAAK,uCAAO;AAC7B,wBAAK,kDAAL,WAAwB,mBAAK,uCAAO,aAAa;AACjD,qBAAK,MAAK,OAAO,UAAU,mBAAK,uCAAO,aAAa,MAAM;AAC1D,MAAI,KAAK,MAAM,mBAAK,uCAAO,WAAW,MAAM,KAAK,MAAM,mBAAK,uCAAO,QAAQ,KAAK,yBAAyB,mBAAK,uCAAO,QAAQ,IAAI,yBAAyB,mBAAK,uCAAO,WAAW,GAAG;AAClL,0BAAK,kDAAL,WAAwB,mBAAK,uCAAO,UAAU;AAC9C,QAAI,CAAC,mBAAK,uCAAO,OAAO;AACtB,yBAAK,MAAK,OAAO;AAAA,QACf,IAAI,SAAS,sBAAsB;AAAA,UACjC,SAAS;AAAA,QACX,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AACF;AACA,eAAU,SAAC,QAAQ;AACjB,qBAAK,MAAK,OAAO,WAAW,mBAAK,uCAAO,aAAa,MAAM;AAC7D;AACA,gBAAW,SAAC,QAAQ;AAClB,QAAM,SAAS;AAAA,IACb,UAAU,mBAAK,uCAAO;AAAA,IACtB,UAAU,mBAAK,uCAAO;AAAA,EACxB;AACA,qBAAK,MAAK,OAAO,YAAY,QAAQ,MAAM;AAC7C;AACA,eAAU,SAAC,QAAQ;AACjB,qBAAK,MAAK,OAAO,WAAW,QAAQ,MAAM;AAC5C;AACA,kBAAa,SAAC,QAAQ;AACpB,qBAAK,MAAK,OAAO,eAAe,mBAAK,uCAAO,cAAc,MAAM;AAClE;AACA,aAAQ,SAAC,QAAQ;AACf,QAAM,QAAQ,mBAAK,uCAAO;AAC1B,MAAI,CAAC,MAAO;AACZ,QAAM,SAAS;AAAA,IACb,SAAS,MAAM;AAAA,IACf,MAAM,MAAM;AAAA,IACZ,YAAY;AAAA,EACd;AACA,qBAAK,MAAK,OAAO,SAAS,QAAQ,MAAM;AAC1C;AAjaF,IAAAC,YAAAC,OAAA;AAoaA,IAAM,oBAAN,MAAwB;AAAA,EAMtB,YAAY,UAAU,KAAK;AAN7B;AACE,uBAAAD;AACA,uBAAAC;AAKE,uBAAKD,YAAY;AACjB,uBAAKC,OAAO;AACZ,uBAAK,gDAAc,aAAa,sBAAK,mDAAkB,KAAK,IAAI;AAChE,uBAAK,gDAAc,gBAAgB,sBAAK,sDAAqB,KAAK,IAAI;AACtE,uBAAK,gDAAc,WAAW,sBAAK,sDAAqB,KAAK,IAAI;AACjE,gBAAY,mBAAKA,OAAK,aAAa,UAAU,sBAAK,gDAAe,KAAK,IAAI,CAAC;AAAA,EAC7E;AAqCF;AAjDED,aAAA;AACAC,QAAA;AAFF;AAGM,mBAAa,WAAG;AAClB,SAAO,mBAAKD,YAAU,MAAM;AAC9B;AASA,sBAAiB,SAACD,QAAO;AACvB,QAAM,cAAcA,OAAM;AAC1B,MAAI,YAAY,UAAU,GAAI;AAC9B,QAAM,KAAK,YAAY,GAAG,SAAS,KAAK,gBAAgB,mBAAKE,OAAK,YAAY,MAAM,IAAI,aAAa;AAAA,IACnG;AAAA,IACA,OAAO,YAAY;AAAA,IACnB,UAAU,YAAY;AAAA,IACtB,MAAM,YAAY;AAAA,IAClB,UAAU;AAAA,EACZ;AACA,qBAAKA,OAAK,YAAY,WAAW,GAAG,EAAE,YAAYF,MAAK;AACvD,MAAI,YAAY,QAAS,YAAW,WAAW;AACjD;AACA,yBAAoB,SAACA,QAAO;AAC1B,QAAM,QAAQ,mBAAKE,OAAK,YAAY,QAAQF,OAAM,MAAM,EAAE;AAC1D,MAAI,MAAO,oBAAKE,OAAK,YAAY,WAAW,MAAM,EAAE,OAAOF,MAAK;AAClE;AACA,yBAAoB,SAACA,QAAO;AAC1B,MAAI,eAAe,sBAAK,wDAAL;AACnB,MAAI,CAAC,aAAc;AACnB,QAAM,QAAQ,mBAAKE,OAAK,YAAY,QAAQ,aAAa,EAAE;AAC3D,MAAI,MAAO,oBAAKA,OAAK,YAAY,WAAW,MAAM,EAAE,OAAO,MAAMF,MAAK;AACxE;AACA,2BAAsB,WAAG;AACvB,SAAO,MAAM,KAAK,mBAAK,+CAAa,EAAE,KAAK,CAAC,UAAU,MAAM,OAAO;AACrE;AACA,mBAAc,SAACA,QAAO;AACpB,QAAM,EAAE,QAAQ,IAAIA,OAAM;AAC1B,MAAI,CAAC,QAAS;AACd,QAAM,QAAQ,mBAAK,gDAAc,aAAa,QAAQ,EAAE;AACxD,MAAI,OAAO;AACT,UAAM,OAAO,sBAAK,wDAAL;AACb,QAAI,KAAM,MAAK,UAAU;AACzB,UAAM,UAAU;AAAA,EAClB;AACF;AArdF;AAwdA,IAAM,oBAAN,MAAwB;AAAA,EACtB,YAAY,OAAO,KAAK;AAD1B;AAQE,iCAAQ,YAAY;AACpB,sCAAa;AACb;AARE,SAAK,QAAQ;AACb,SAAK,MAAM;AACX,SAAK,YAAY,IAAI,UAAU,OAAO,CAAC,SAAS;AAC9C,WAAK,IAAI,OAAO,qBAAqB,IAAI;AAAA,IAC3C,CAAC;AAAA,EACH;AAAA,EAIA,QAAQ;AACN,QAAI,gBAAgB,MAAM,KAAK,GAAG;AAClC,QAAI,iBAAiB,KAAK,MAAO,KAAI,kBAAkB,MAAM,KAAK,GAAG;AACrE,cAAU,MAAM;AACd,WAAK,UAAU,QAAQ;AACvB,WAAK,MAAM,YAAY;AACvB,WAAK,MAAM,gBAAgB,KAAK;AAChC,iBAAW,UAAU,KAAK,MAAM,iBAAiB,QAAQ,EAAG,QAAO,OAAO;AAC1E,WAAK,MAAM,KAAK;AAAA,IAClB,CAAC;AAAA,EACH;AAAA,EACA,IAAI,OAAO;AACT,WAAO;AAAA,EACT;AAAA,EACA,gBAAgB,MAAM;AACpB,SAAK,MAAM,eAAe;AAAA,EAC5B;AAAA,EACA,MAAM,OAAO;AACX,WAAO,KAAK,MAAM,KAAK;AAAA,EACzB;AAAA,EACA,MAAM,QAAQ;AACZ,WAAO,KAAK,MAAM,MAAM;AAAA,EAC1B;AAAA,EACA,SAAS,OAAO;AACd,SAAK,MAAM,QAAQ;AAAA,EACrB;AAAA,EACA,UAAU,QAAQ;AAChB,SAAK,MAAM,SAAS;AAAA,EACtB;AAAA,EACA,eAAe,MAAM;AACnB,SAAK,MAAM,cAAc;AAAA,EAC3B;AAAA,EACA,eAAe,QAAQ;AACrB,iBAAa,KAAK,OAAO,eAAe,MAAM;AAAA,EAChD;AAAA,EACA,MAAM,WAAW,EAAE,KAAK,KAAK,GAAG,SAAS;AACvC,SAAK,MAAM,UAAU,WAAW;AAChC,QAAI,cAAc,GAAG,GAAG;AACtB,WAAK,aAAa;AAClB,WAAK,MAAM,YAAY;AAAA,IACzB,OAAO;AACL,WAAK,MAAM,YAAY;AACvB,UAAI,SAAS,GAAG,GAAG;AACjB,YAAI,SAAS,KAAK;AAChB,eAAK,aAAa,EAAE,KAAK,KAAK,CAAC;AAAA,QACjC,OAAO;AACL,eAAK,aAAa;AAClB,eAAK,MAAM,MAAM,sBAAK,sDAAL,WAA0B;AAAA,QAC7C;AAAA,MACF,OAAO;AACL,aAAK,aAAa;AAClB,aAAK,MAAM,MAAM,OAAO,IAAI,gBAAgB,GAAG;AAAA,MACjD;AAAA,IACF;AACA,SAAK,MAAM,KAAK;AAChB,SAAK,aAAa,EAAE,KAAK,KAAK;AAAA,EAChC;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,KAAK,aAAa;AAC7B,UAAM,aAAa,KAAK,MAAM,cAAc,kBAAkB,GAAG,SAAS,cAAc,SAAS,cAAc,QAAQ;AACvH,iBAAa,QAAQ,OAAO,sBAAK,sDAAL,WAA0B,IAAI,IAAI;AAC9D,iBAAa,QAAQ,QAAQ,IAAI,SAAS,MAAM,IAAI,OAAO,WAAW;AACtE,iBAAa,QAAQ,YAAY,EAAE;AACnC,QAAI,CAAC,WAAY,MAAK,MAAM,OAAO,MAAM;AAAA,EAC3C;AAAA,EACA,eAAe;AAtiBjB;AAuiBI,eAAK,MAAM,cAAc,kBAAkB,MAA3C,mBAA8C;AAAA,EAChD;AAYF;AA5FA;AAiFE,yBAAoB,SAAC,KAAK;AACxB,QAAM,EAAE,eAAe,YAAY,IAAI,KAAK,IAAI,QAAQ,YAAY,cAAc,GAAG,UAAU,YAAY;AAC3G,MAAI,YAAY,KAAK,UAAU,GAAG;AAChC,WAAO,GAAG,GAAG,MAAM,SAAS,IAAI,OAAO;AAAA,EACzC,WAAW,YAAY,GAAG;AACxB,WAAO,GAAG,GAAG,MAAM,SAAS;AAAA,EAC9B,WAAW,UAAU,GAAG;AACtB,WAAO,GAAG,GAAG,QAAQ,OAAO;AAAA,EAC9B;AACA,SAAO;AACT;;;ACnjBF,IAAAG,SAAAC,OAAAC,SAAA;AAGA,IAAM,4BAAN,MAAgC;AAAA,EAQ9B,YAAY,OAAO,KAAK;AAR1B;AACE,uBAAAF;AACA,uBAAAC;AACA,uBAAAC;AACA,mCAAa,OAAO,KAAK;AAKvB,uBAAKF,SAAS;AACd,uBAAKC,OAAO;AACZ,0BAAK,gDAAL;AAAA,EACF;AAAA,EAPA,IAAI,YAAY;AACd,WAAO,mBAAK,YAAL;AAAA,EACT;AAAA,EAyBA,MAAM,SAAS;AACb,QAAI,CAAC,KAAK,UAAW,OAAM,MAAM,iCAAiC;AAClE,QAAI,KAAK,SAAS,aAAa,mBAAKD,SAAO,gCAAgC;AACzE,aAAO,mBAAKA,SAAO,+BAA+B;AAAA,IACpD;AACA,WAAO,mBAAKA,SAAO,OAAO,OAAO;AAAA,EACnC;AAQF;AA7CEA,UAAA;AACAC,QAAA;AACAC,UAAA;AACA;AAJF;AAaE,WAAM,WAAG;AAhBX;AAiBI,MAAI,GAAC,wBAAKF,aAAL,mBAAa,WAAU,CAAC,KAAK,UAAW;AAC7C,qBAAKA,SAAO,OAAO,kBAAkB,CAAC,cAAc;AAClD,uBAAK,YAAW,IAAI,SAAS;AAAA,EAC/B,CAAC,EAAE,MAAM,MAAM;AACb,uBAAK,YAAW,IAAI,KAAK;AAAA,EAC3B,CAAC;AACD,SAAO,sBAAK,yDAAgB,KAAK,IAAI,CAAC;AACxC;AACA,oBAAe,WAAG;AAChB,MAAI,CAAC,mBAAK,YAAL,WAAmB;AACxB,QAAM,SAAS,CAAC,cAAc,WAAW,YAAY,GAAG,gBAAgB,sBAAK,wDAAe,KAAK,IAAI;AACrG,gBAAc;AACd,cAAY,mBAAKA,UAAQ,WAAW,aAAa;AACjD,QAAM,eAAe,IAAI,iBAAiB,mBAAKA,SAAO,MAAM;AAC5D,aAAW,QAAQ,QAAQ;AACzB,iBAAa,IAAI,MAAM,aAAa;AAAA,EACtC;AACF;AAQA,mBAAc,SAACG,QAAO;AACpB,QAAM,QAAQ,mBAAKH,SAAO,OAAO;AACjC,MAAI,UAAU,mBAAKE,SAAQ;AAC3B,QAAM,SAAS,EAAE,MAAM,KAAK,MAAM,MAAM;AACxC,qBAAKD,OAAK,OAAO,0BAA0B,QAAQE,MAAK;AACxD,qBAAKD,SAAS;AAChB;AAEF,IAAM,qBAAN,cAAiC,0BAA0B;AAAA,EAA3D;AAAA;AACE,gCAAO;AAAA;AAAA,EACP,IAAI,YAAY;AACd,WAAO,2CAA2C;AAAA,EACpD;AACF;",
  "names": ["event", "_provider", "_ctx", "_media", "_ctx", "_state", "event"]
}
