{
  "version": 3,
  "sources": ["../../vidstack/dev/chunks/vidstack-BFg1ZqiG.js"],
  "sourcesContent": ["import { isArray, isUndefined, isNumber } from './vidstack-Bu2kfzUd.js';\n\nclass TimeRange {\n  #ranges;\n  get length() {\n    return this.#ranges.length;\n  }\n  constructor(start, end) {\n    if (isArray(start)) {\n      this.#ranges = start;\n    } else if (!isUndefined(start) && !isUndefined(end)) {\n      this.#ranges = [[start, end]];\n    } else {\n      this.#ranges = [];\n    }\n  }\n  start(index) {\n    throwIfEmpty(this.#ranges.length);\n    throwIfOutOfRange(\"start\", index, this.#ranges.length - 1);\n    return this.#ranges[index][0] ?? Infinity;\n  }\n  end(index) {\n    throwIfEmpty(this.#ranges.length);\n    throwIfOutOfRange(\"end\", index, this.#ranges.length - 1);\n    return this.#ranges[index][1] ?? Infinity;\n  }\n}\nfunction getTimeRangesStart(range) {\n  if (!range.length) return null;\n  let min = range.start(0);\n  for (let i = 1; i < range.length; i++) {\n    const value = range.start(i);\n    if (value < min) min = value;\n  }\n  return min;\n}\nfunction getTimeRangesEnd(range) {\n  if (!range.length) return null;\n  let max = range.end(0);\n  for (let i = 1; i < range.length; i++) {\n    const value = range.end(i);\n    if (value > max) max = value;\n  }\n  return max;\n}\nfunction throwIfEmpty(length) {\n  if (!length) throw new Error(\"`TimeRanges` object is empty.\" );\n}\nfunction throwIfOutOfRange(fnName, index, end) {\n  if (!isNumber(index) || index < 0 || index > end) {\n    throw new Error(\n      `Failed to execute '${fnName}' on 'TimeRanges': The index provided (${index}) is non-numeric or out of bounds (0-${end}).`\n    );\n  }\n}\nfunction normalizeTimeIntervals(intervals) {\n  if (intervals.length <= 1) {\n    return intervals;\n  }\n  intervals.sort((a, b) => a[0] - b[0]);\n  let normalized = [], current = intervals[0];\n  for (let i = 1; i < intervals.length; i++) {\n    const next = intervals[i];\n    if (current[1] >= next[0] - 1) {\n      current = [current[0], Math.max(current[1], next[1])];\n    } else {\n      normalized.push(current);\n      current = next;\n    }\n  }\n  normalized.push(current);\n  return normalized;\n}\nfunction updateTimeIntervals(intervals, interval, value) {\n  let start = interval[0], end = interval[1];\n  if (value < start) {\n    return [value, -1];\n  } else if (value === start) {\n    return interval;\n  } else if (start === -1) {\n    interval[0] = value;\n    return interval;\n  } else if (value > start) {\n    interval[1] = value;\n    if (end === -1) intervals.push(interval);\n  }\n  normalizeTimeIntervals(intervals);\n  return interval;\n}\n\nexport { TimeRange, getTimeRangesEnd, getTimeRangesStart, normalizeTimeIntervals, updateTimeIntervals };\n"],
  "mappings": "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",
  "names": []
}
